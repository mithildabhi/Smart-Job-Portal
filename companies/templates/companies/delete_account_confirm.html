{% extends 'company_base.html' %}

{% block title %}Delete Account Confirmation - {{ company.company_name }}{% endblock %}

{% block content %}
<style>
    .delete-confirmation {
        max-width: 600px;
        margin: 2rem auto;
        background: white;
        border-radius: 20px;
        padding: 3rem;
        box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        text-align: center;
    }
    
    .danger-icon {
        font-size: 4rem;
        color: #dc3545;
        margin-bottom: 1.5rem;
    }
    
    .delete-title {
        color: #dc3545;
        font-weight: 700;
        margin-bottom: 1rem;
    }
    
    .warning-box {
        background: #fff3cd;
        border: 1px solid #ffeaa7;
        border-radius: 10px;
        padding: 1.5rem;
        margin: 2rem 0;
        text-align: left;
    }
    
    .company-info {
        background: #f8f9fa;
        border-radius: 10px;
        padding: 1.5rem;
        margin: 2rem 0;
        text-align: left;
    }
    
    .btn-delete-confirm {
        background: #dc3545;
        color: white;
        border: none;
        padding: 1rem 2rem;
        border-radius: 25px;
        font-weight: 600;
        margin: 0.5rem;
        transition: all 0.3s ease;
    }
    
    .btn-delete-confirm:hover {
        background: #c82333;
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(220,53,69,0.4);
    }
    
    .btn-cancel {
        background: #6c757d;
        color: white;
        border: none;
        padding: 1rem 2rem;
        border-radius: 25px;
        font-weight: 600;
        margin: 0.5rem;
        transition: all 0.3s ease;
    }
    
    .btn-cancel:hover {
        background: #545b62;
        transform: translateY(-2px);
    }
</style>

<div class="container">
    <div class="delete-confirmation">
        <div class="danger-icon">
            <i class="fas fa-exclamation-triangle"></i>
        </div>
        
        <h2 class="delete-title">Delete Company Account</h2>
        
        <p class="lead">You are about to permanently delete your company account. This action cannot be undone.</p>
        
        <div class="company-info">
            <h5><i class="fas fa-building me-2"></i>Account Information</h5>
            <p><strong>Company Name:</strong> {{ company.company_name }}</p>
            <p><strong>Email:</strong> {{ user.email }}</p>
            <p><strong>Industry:</strong> {{ company.industry|title }}</p>
            <p><strong>Registered:</strong> {{ user.date_joined|date:"F d, Y" }}</p>
        </div>
        
        <div class="warning-box">
            <h6><i class="fas fa-warning me-2"></i>What will be deleted:</h6>
            <ul class="text-start">
                <li>Your company profile and all information</li>
                <li>All job postings created by your company</li>
                <li>All application data for your jobs</li>
                <li>Your login credentials and account access</li>
                <li>All data associated with your account</li>
            </ul>
            <p class="mt-3 mb-0"><strong>Note:</strong> This action is permanent and cannot be reversed.</p>
        </div>
        
        <form method="post">
            {% csrf_token %}
            <input type="hidden" name="confirm_delete" value="confirmed">
            
            <div class="d-flex justify-content-center flex-wrap">
                <a href="{% url 'companies:company_dashboard' %}" class="btn btn-cancel">
                    <i class="fas fa-times me-2"></i>Cancel - Keep Account
                </a>
                <button type="submit" class="btn btn-delete-confirm" onclick="return confirmFinalDelete()">
                    <i class="fas fa-trash-alt me-2"></i>Yes, Delete My Account
                </button>
            </div>
        </form>
    </div>
</div>

<script>
function confirmFinalDelete() {
    return confirm('Are you absolutely sure you want to delete your company account? This action cannot be undone and you will lose all your data permanently.');
}
</script>
{% endblock %}
